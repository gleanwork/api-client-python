"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .workflowinputfield import WorkflowInputField, WorkflowInputFieldTypedDict
from .workflowstep import WorkflowStep, WorkflowStepTypedDict
from .workflowtriggerchatmessageconfig import (
    WorkflowTriggerChatMessageConfig,
    WorkflowTriggerChatMessageConfigTypedDict,
)
from .workflowtriggertype import WorkflowTriggerType
from glean.types import BaseModel
import pydantic
from typing import List, Optional
from typing_extensions import Annotated, NotRequired, TypedDict


class ConfigTypedDict(TypedDict):
    r"""Configuration for the corresponding trigger."""

    chat_message: NotRequired[WorkflowTriggerChatMessageConfigTypedDict]
    r"""Trigger configuration for a chat message sent by a user."""


class Config(BaseModel):
    r"""Configuration for the corresponding trigger."""

    chat_message: Annotated[
        Optional[WorkflowTriggerChatMessageConfig], pydantic.Field(alias="chatMessage")
    ] = None
    r"""Trigger configuration for a chat message sent by a user."""


class TriggerTypedDict(TypedDict):
    type: NotRequired[WorkflowTriggerType]
    r"""Type of workflow trigger defined"""
    config: NotRequired[ConfigTypedDict]
    r"""Configuration for the corresponding trigger."""


class Trigger(BaseModel):
    type: Optional[WorkflowTriggerType] = None
    r"""Type of workflow trigger defined"""

    config: Optional[Config] = None
    r"""Configuration for the corresponding trigger."""


class WorkflowSchemaTypedDict(TypedDict):
    r"""The schema of a workflow, such as the goal and the steps."""

    steps: List[WorkflowStepTypedDict]
    goal: NotRequired[str]
    r"""The goal of the workflow. This is passed into each step."""
    fields: NotRequired[List[WorkflowInputFieldTypedDict]]
    r"""Fields can be used in the goal, step instruction templates, and tool config input templates."""
    trigger: NotRequired[TriggerTypedDict]


class WorkflowSchema(BaseModel):
    r"""The schema of a workflow, such as the goal and the steps."""

    steps: List[WorkflowStep]

    goal: Optional[str] = None
    r"""The goal of the workflow. This is passed into each step."""

    fields: Optional[List[WorkflowInputField]] = None
    r"""Fields can be used in the goal, step instruction templates, and tool config input templates."""

    trigger: Optional[Trigger] = None
