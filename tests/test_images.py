"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from glean import Glean, models
import os
from tests.test_client import create_test_http_client


def test_images_images():
    test_http_client = create_test_http_client("images")

    with Glean(
        client=test_http_client,
        bearer_auth=os.getenv("GLEAN_BEARER_AUTH", "value"),
    ) as g_client:
        assert g_client is not None

        res = g_client.client.images.get()
        assert res is not None
        assert (
            bytes().join(res.iter_bytes())
            == open(".speakeasy/testfiles/example.file", "rb").read()
        )


def test_images_uploadimage():
    test_http_client = create_test_http_client("uploadimage")

    with Glean(
        client=test_http_client,
        bearer_auth=os.getenv("GLEAN_BEARER_AUTH", "value"),
    ) as g_client:
        assert g_client is not None

        res = g_client.client.images.upload(
            request_body=open(".speakeasy/testfiles/example.file", "rb")
        )
        assert res is not None
        assert res == models.UploadImageResponse(
            url="https://definite-haversack.info/",
        )
